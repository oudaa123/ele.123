<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ© - Ø¬Ù†Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø£ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„</title>
<style>
:root {
  --primary-color: #8a2be2;
  --secondary-color: #ffd814;
  --accent-color: #ff4444;
  --text-color: #333;
  --light-bg: #f9f9f9;
  --card-bg: #fff;
}

* {
  box-sizing: border-box;
}

body { 
  font-family: Tahoma, sans-serif; 
  margin: 0; 
  background: var(--light-bg);
  font-size: 14px;
  padding-bottom: 60px;
  max-width: 100%;
  overflow-x: hidden;
  height: 100%;
}

/* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‡ÙŠØ¯Ø± Ù„ÙŠÙƒÙˆÙ† Ø£ÙƒØ«Ø± Ø¬Ø§Ø°Ø¨ÙŠØ© */
header {
  background: linear-gradient(135deg, #131921, #8a2be2);
  color: white;
  padding: 15px 5px;
  text-align: center;
  font-size: 20px;
  font-weight: bold;
  position: sticky;
  top: 0;
  z-index: 1000;
  width: 100%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.header-buttons {
   margin-top: 12px;
   display: flex;
   flex-wrap: wrap;
   justify-content: center;
   gap: 8px;
   position: relative;
}
.header-buttons button {
  background: var(--secondary-color);
  border: 1px solid #fcd200;
  padding: 8px 16px;
  border-radius: 30px;
  cursor: pointer;
  font-weight: bold;
  font-size: 14px;
  white-space: nowrap;
  position: relative;
  transition: all 0.3s;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.header-buttons button:hover { 
  background: #f7ca00; 
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¹Ø±ÙˆØ¶ */
.promo-banner {
  background: linear-gradient(135deg, #ff6600, #ff3300);
  color: white;
  text-align: center;
  padding: 12px;
  margin: 10px 0;
  border-radius: 10px;
  font-weight: bold;
  animation: promoPulse 2s infinite;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(255, 102, 0, 0.3);
}

@keyframes promoPulse {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 102, 0, 0.7); }
  50% { transform: scale(1.02); box-shadow: 0 0 0 10px rgba(255, 102, 0, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 102, 0, 0); }
}

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª */
#products-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 15px;
  padding: 15px;
  width: 100%;
}
.product {
  background: var(--card-bg);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: 0.3s;
  position: relative;
  width: 100%;
}
.product:hover { 
  box-shadow: 0 6px 15px rgba(0,0,0,0.2); 
  transform: translateY(-5px);
}
.product img { 
  width: 100%; 
  height: 140px; 
  object-fit: contain; 
  background: #f9f9f9; 
  padding: 8px;
}
.product-info { padding: 10px; text-align: center; }
.product-info .name { 
  font-size: 14px; 
  margin-bottom: 6px; 
  color: var(--text-color); 
  font-weight: bold;
  height: 40px;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}
.product-info .price { 
  font-size: 16px; 
  color: var(--primary-color); 
  margin-bottom: 8px; 
  font-weight: bold;
}
.product input { 
  width: 50px; 
  margin: 6px auto; 
  border-radius: 6px; 
  border: 1px solid #ccc; 
  text-align: center;
  font-size: 14px;
  padding: 6px;
}
.product button { 
  padding: 8px 12px; 
  border: none; 
  border-radius: 6px; 
  background: var(--primary-color); 
  color: #fff; 
  cursor: pointer; 
  font-weight: bold; 
  font-size: 14px;
  transition: 0.3s; 
  margin-top: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.product button:hover { 
  background: #6a1fbf; 
  transform: scale(1.05);
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ© */
.promo-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  background: linear-gradient(135deg, #ff4444, #cc0000);
  color: white;
  padding: 6px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: bold;
  z-index: 1;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  animation: pulse-badge 2s infinite;
  display: flex;
  align-items: center;
  gap: 3px;
}

.hot-badge {
  position: absolute;
  top: 8px;
  left: 8px;
  background: linear-gradient(135deg, #ff6600, #ff3300);
  color: white;
  padding: 6px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: bold;
  z-index: 1;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  animation: pulse-badge 2s infinite;
  display: flex;
  align-items: center;
  gap: 3px;
}

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
.quick-actions {
  display: flex;
  justify-content: center;
  gap: 5px;
  margin-top: 8px;
}

.quick-add-btn {
  background: #25d366 !important;
  padding: 6px 10px !important;
  font-size: 12px !important;
}

.quick-add-btn:hover {
  background: #1da851 !important;
}

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª */
@media (min-width: 1200px) {
  #products-container {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    max-width: 1200px;
    margin: 0 auto;
  }
}

@media (max-width: 768px) {
  #products-container {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }
}

@media (max-width: 480px){
  #products-container { 
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); 
    gap: 10px;
    padding: 10px;
  }
}

/* Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù†Ù…Ø§Ø· ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø·ÙÙŠÙØ© */
/* ... */
</style>
</head>
<body class="hide-price">

<div id="showPricesBar" onclick="showPasswordModal()">
  ğŸ‘ï¸ Ø§Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø±Ø§Ø± ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶
</div>

<button id="saveCartBtn" onclick="saveCart()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨</button>

<header>
  ğŸ Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ© - Ø¬Ù†Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø£ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„
  <div class="header-buttons">
    <button id="cartBtn">ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª <span id="cart-count">0</span></button>
    <button id="totalBtn">ğŸ’° Ø·Ù„Ø¨ÙŠ</button>
    <button id="supportBtn">â˜ï¸ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø±</button>
    <button onclick="showPromoGuide()">ğŸ“– ÙƒÙŠÙ Ø£Ø·Ù„Ø¨ØŸ</button>
    <button id="notifBtn">ğŸ”” Ø¹Ø±ÙˆØ¶ Ø¬Ø¯ÙŠØ¯Ø© <span id="notif-count">0</span></button>
    <button id="clearCartBtn" onclick="clearCart()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
  </div>

  <div class="search-container">
    <input type="text" id="searchBox" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
    <button id="offerBtn">ğŸ’¥ Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©</button>
  </div>
</header>

<!-- Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¨Ø±ÙˆÙ…Ùˆ -->
<div class="promo-banner" onclick="showPromoMessage()">
  ğŸ‰ Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø© - Ø£Ø³Ø¹Ø§Ø± Ù„Ø§ ØªÙØ¹ÙˆØ¶! ğŸ‰
</div>

<!-- Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙˆÙ…Ùˆ -->
<div id="promoGuide" style="display: none; background: white; padding: 15px; margin: 10px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
  <h3 style="text-align: center; color: var(--primary-color);">ğŸ“– Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø³Ø±ÙŠØ¹</h3>
  <ol style="padding-right: 20px;">
    <li>ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©"</li>
    <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª" Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ù„Ø¨Ùƒ</li>
    <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "ğŸ“¤ Ø§Ø±Ø³Ù„ Ø·Ù„Ø¨Ùƒ" Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨</li>
    <li>Ø§Ø®ØªØ± Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</li>
    <li>Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„ØªÙˆØµÙŠÙ„</li>
  </ol>
  <button onclick="closePromoGuide()" style="background: var(--primary-color); color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; display: block; margin: 10px auto;">Ø­Ø³Ù†Ù‹Ø§ØŒ ÙÙ‡Ù…Øª</button>
</div>

<!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø·ÙÙŠÙØ© -->
<!-- ... -->

<script>
// Ø¥Ø¶Ø§ÙØ© ÙˆØ¸Ø§Ø¦Ù Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø¨Ø±ÙˆÙ…Ùˆ
function showPromoGuide() {
  document.getElementById('promoGuide').style.display = 'block';
}

function closePromoGuide() {
  document.getElementById('promoGuide').style.display = 'none';
}

function showPromoMessage() {
  showToast('ğŸ Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±! ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„ØªÙØ§ØµÙŠÙ„.');
}

// ØªØ¹Ø¯ÙŠÙ„ Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„ØªÙƒÙˆÙ† Ø£ÙƒØ«Ø± Ø¬Ø§Ø°Ø¨ÙŠØ©
function renderProducts(data, containerElement){
  let html = "";
  
  if (data.length === 0) {
    html = `<div style="text-align: center; padding: 20px; color: #666;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ø­Ø§Ù„ÙŠØ§Ù‹</div>`;
  } else {
    data.forEach((item, index) => {
      const formattedPrice = formatPrice(item.price);
      
      // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ ".." ÙÙŠ Ø§Ù„Ø§Ø³Ù…
      const isNewProduct = item.name && item.name.includes("..");
      
      // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø°Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ "&" ÙÙŠ Ø§Ù„Ø§Ø³Ù…
      const isOfferProduct = item.name && item.name.includes("&");
      
      // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ "@" ÙÙŠ Ø§Ù„Ø§Ø³Ù…
      const isOutOfStock = item.name && item.name.includes("@");
      
      // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø³Ø§Ø®Ù†Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ "#" ÙÙŠ Ø§Ù„Ø§Ø³Ù…
      const isHotProduct = item.name && item.name.includes("#");
      
      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ù…Ù† Ø§Ù„Ø§Ø³Ù… Ù„Ù„Ø¹Ø±Ø¶
      const displayName = cleanProductName(item.name);
      
      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø²ÙŠØ§Ø¯Ø© 45% Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ "&"
      const originalPrice = parseFloat(item.price) || 0;
      const increasedPrice = isOfferProduct ? originalPrice * 1.45 : originalPrice;
      
      html += `<div class="product ${isNewProduct ? 'new-product' : ''} ${isOfferProduct ? 'offer-product' : ''} ${isOutOfStock ? 'out-of-stock-product' : ''} ${isHotProduct ? 'hot-product' : ''}">
                  ${isNewProduct ? '<span class="promo-badge">ğŸ†• Ø¬Ø¯ÙŠØ¯</span>' : ''}
                  ${isOfferProduct ? '<span class="promo-badge">ğŸ Ø¹Ø±Ø¶ Ø®Ø§Øµ</span>' : ''}
                  ${isHotProduct ? '<span class="hot-badge">ğŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹</span>' : ''}
                  ${isOutOfStock ? '<span class="out-of-stock-badge">â›” Ù…Ù†ØªÙ‡ÙŠ</span>' : ''}
                  <div class="product-image-container">
                    <img src="${item.image || 'https://via.placeholder.com/150'}" 
                         onerror="handleImageError(this)" 
                         alt="${displayName}" 
                         loading="lazy">
                  </div>
                  <div class="product-info">
                    <div class="name">${displayName}</div>
                    ${isOfferProduct ? 
                      `<div class="price original-price">${formatPrice(increasedPrice)} Ø¬Ù†ÙŠÙ‡</div>
                       <div class="price discount-price">
                         <span class="discount-percent">Ø®ØµÙ… 45%</span>${formatPrice(originalPrice)} Ø¬Ù†ÙŠÙ‡
                       </div>` : 
                      `<div class="price">${formattedPrice} Ø¬Ù†ÙŠÙ‡</div>`
                    }
                    ${!isOutOfStock ? `
                    <input type="number" min="1" value="${cart[index] || 1}" data-index="${index}">
                    <div class="quick-actions">
                      <button onclick="addToCart(${index})">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
                      <button class="quick-add-btn" onclick="quickAdd(${index})">+</button>
                    </div>
                    ` : ''}
                    <div class="free-shipping-text">ğŸšš ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ</div>
                  </div>
               </div>`;
    });
  }
  
  containerElement.innerHTML = html;
  
  // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ÙƒÙ…ÙŠØ© (Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙ‚Ø·)
  containerElement.querySelectorAll('input[type="number"]').forEach(input => {
    input.addEventListener('change', function() {
      const index = parseInt(this.getAttribute('data-index'));
      const value = parseInt(this.value);
      updateQty(index, value);
    });
  });
  
  togglePricesVisibility();
}

// Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
function quickAdd(index) {
  if (!pricesVisible) {
    showPasswordModal();
    showToast('ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª');
    return;
  }
  
  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù†ØªÙ‡ÙŠÙ‹Ø§
  if (productsData[index].name && productsData[index].name.includes("@")) {
    showToast('Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù†ØªÙ‡ÙŠ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØªÙ‡ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©');
    return;
  }
  
  cart[index] = (cart[index] || 0) + 1;
  updateCartCount();
  
  // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù†Ø¸ÙŠÙ ÙÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
  const cleanName = cleanProductName(productsData[index].name);
  showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${cleanName} Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©`);
}

// ØªØ­Ø³ÙŠÙ† ØªÙ†Ø³ÙŠÙ‚ ÙØ§ØªÙˆØ±Ø© Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„ØªÙƒÙˆÙ† Ø£ÙƒØ«Ø± ÙˆØ¶ÙˆØ­Ø§Ù‹
function formatWhatsAppInvoice() {
  const now = new Date();
  const dateOptions = { 
    weekday: 'long', 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric' 
  };
  const timeOptions = {
    hour: '2-digit',
    minute: '2-digit'
  };
  
  const dateStr = now.toLocaleDateString('ar-EG', dateOptions);
  const timeStr = now.toLocaleTimeString('ar-EG', timeOptions);
  
  let text = `ğŸ›’ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Ø¬Ù†Ø© Ù„Ø£ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„\n`;
  text += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
  text += `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${dateStr}\n`;
  text += `â° Ø§Ù„ÙˆÙ‚Øª: ${timeStr}\n`;
  text += `ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ\n`;
  text += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n`;
  text += `ğŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:\n`;
  text += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
  
  let total = 0;
  cart.forEach((qty, idx) => {
    if(qty && productsData[idx]){
      const price = parseFloat(productsData[idx].price) || 0;
      const lineTotal = qty * price;
      total += lineTotal;
      
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù†Ø¸ÙŠÙ Ø¨Ø¯ÙˆÙ† Ø±Ù…ÙˆØ²
      const cleanName = cleanProductName(productsData[idx].name);
      
      text += `ğŸ“¦ ${cleanName}\n`;
      text += `   Ø§Ù„ÙƒÙ…ÙŠØ©: ${qty}\n`;
      text += `   Ø§Ù„Ø³Ø¹Ø±: ${formatPrice(price)} Ø¬Ù†ÙŠÙ‡\n`;
      text += `   Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${formatPrice(lineTotal)} Ø¬Ù†ÙŠÙ‡\n`;
      text += `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
    }
  });
  
  text += `\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: ${formatPrice(total)} Ø¬Ù†ÙŠÙ‡\n\n`;
  text += `Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ø¬Ù†Ø© ğŸŒ¹\n`;
  text += `Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙƒÙ… Ø®Ù„Ø§Ù„ 12 Ø³Ø§Ø¹Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨`;
  
  return text;
}

// ØªØ¹Ø¯ÙŠÙ„ Ù†Øµ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„ØªÙƒÙˆÙ† Ø£ÙƒØ«Ø± ÙˆØ¶ÙˆØ­Ø§Ù‹ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡
document.getElementById("sendBtn").innerText = "ğŸ“¤ Ø§Ø±Ø³Ù„ Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø¢Ù†";

// Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø·ÙÙŠÙØ©
// ...
</script>
</body>
</html>
