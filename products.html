â€<!DOCTYPE html>
â€<html lang="ar" dir="rtl">
â€<head>
â€<meta charset="UTF-8">
â€<meta name="viewport" content="width=device-width, initial-scale=1.0">
â€<title>Ø¬Ù…ÙŠØ¹ Ù…Ù†ØªØ¬Ø§Øª Ø¬Ù†Ø©</title>
â€<style>
â€:root {
â€  --primary-color: #8a2be2;
â€  --secondary-color: #ffd814;
â€  --accent-color: #ff4444;
â€  --text-color: #333;
â€  --light-bg: #f9f9f9;
â€  --card-bg: #fff;
}

â€body { 
â€  font-family: Tahoma, sans-serif; 
â€  margin: 0; 
â€  background: var(--light-bg);
â€  font-size: 14px;
â€  padding-bottom: 60px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ø²Ø± Ø§Ù„Ø¹Ø§Ø¦Ù… */
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
â€header {
â€  background: #131921;
â€  color: white;
â€  padding: 10px 5px;
â€  text-align: center;
â€  font-size: 18px;
â€  font-weight: bold;
â€  position: sticky;
â€  top: 0;
â€  z-index: 1000;
}

â€.header-buttons {
â€   margin-top: 8px;
â€   display: flex;
â€   flex-wrap: wrap;
â€   justify-content: center;
â€   gap: 5px;
â€   position: relative;
}
â€.header-buttons button {
â€  background: var(--secondary-color);
â€  border: 1px solid #fcd200;
â€  padding: 6px 12px;
â€  border-radius: 6px;
â€  cursor: pointer;
â€  font-weight: bold;
â€  font-size: 14px;
â€  white-space: nowrap;
â€  position: relative;
}
â€.header-buttons button:hover { background: #f7ca00; }

/* Ø²Ø± Ø§Ù„Ø¬Ø±Ø³ */
â€#notifBtn {
â€  position: relative;
â€  background: var(--accent-color);
â€  border: 1px solid #cc0000;
â€  padding: 6px 12px;
â€  border-radius: 6px;
â€  cursor: pointer;
â€  font-weight: bold;
â€  color: #fff;
â€  animation: ring 1.5s infinite;
}
â€#notif-count {
â€  position: absolute;
â€  top: -8px;
â€  right: -8px;
â€  background: yellow;
â€  color: black;
â€  font-size: 10px;
â€  font-weight: bold;
â€  padding: 2px 5px;
â€  border-radius: 50%;
â€  display: none;
}

/* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø© - ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆÙ‚Ø¹Ù‡ */
â€#cart-count {
â€  position: absolute;
â€  top: -8px;
â€  right: 50%;
â€  transform: translateX(50%);
â€  background: red;
â€  color: #fff;
â€  font-size: 12px;
â€  font-weight: bold;
â€  padding: 2px 5px;
â€  border-radius: 50%;
â€  display: none;
â€  z-index: 1001;
}

/* Ø­Ø±ÙƒØ© Ø§Ù„Ø¬Ø±Ø³ */
â€@keyframes ring {
â€  0% { transform: rotate(0deg); }
â€  1% { transform: rotate(15deg); }
â€  3% { transform: rotate(-10deg); }
â€  5% { transform: rotate(15deg); }
â€  7% { transform: rotate(-10deg); }
â€  9% { transform: rotate(15deg); }
â€  11% { transform: rotate(-10deg); }
â€  13% { transform: rotate(0deg); }
â€  100% { transform: rotate(0deg); }
}

/* Ø¨Ø§Ù†Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
â€#newBanner {
â€  display: none;
â€  background: red;
â€  color: white;
â€  text-align: center;
â€  padding: 8px;
â€  font-size: 16px;
â€  font-weight: bold;
}

/* Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù„Ù‰ Ø´ÙƒÙ„ ÙƒØ±ÙˆØª */
â€#products-container {
â€  display: grid;
â€  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
â€  gap: 12px;
â€  padding: 12px;
}
â€.product {
â€  background: var(--card-bg);
â€  border-radius: 8px;
â€  overflow: hidden;
â€  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
â€  display: flex;
â€  flex-direction: column;
â€  justify-content: space-between;
â€  transition: 0.3s;
}
â€.product:hover { box-shadow: 0 3px 10px rgba(0,0,0,0.2); }
â€.product img { 
â€  width: 100%; 
â€  height: 130px; 
â€  object-fit: contain; 
â€  background: #f9f9f9; 
â€  padding: 5px;
}
â€.product-info { padding: 8px; text-align: center; }
â€.product-info .name { 
â€  font-size: 14px; 
â€  margin-bottom: 4px; 
â€  color: var(--text-color); 
â€  font-weight: bold;
â€  height: 40px;
â€  overflow: hidden;
â€  display: -webkit-box;
â€  -webkit-line-clamp: 2;
â€  -webkit-box-orient: vertical;
}
â€.product-info .price { 
â€  font-size: 14px; 
â€  color: var(--primary-color); 
â€  margin-bottom: 6px; 
â€  font-weight: bold;
}
â€.product input { 
â€  width: 40px; 
â€  margin: 4px auto; 
â€  border-radius: 4px; 
â€  border: 1px solid #ccc; 
â€  text-align: center;
â€  font-size: 14px;
â€  padding: 4px;
}
â€.product button { 
â€  padding: 6px 8px; 
â€  border: none; 
â€  border-radius: 4px; 
â€  background: var(--primary-color); 
â€  color: #fff; 
â€  cursor: pointer; 
â€  font-weight: bold; 
â€  font-size: 14px;
â€  transition: 0.3s; 
â€  margin-top: 5px;
}
â€.product button:hover { background: #6a1fbf; transform: scale(1.05); }

/* Ù†Ø§ÙØ°Ø© Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø© */
â€#totalModal {
â€  display: none;
â€  position: fixed;
â€  top: 0;
â€  left: 0;
â€  right: 0;
â€  bottom: 0;
â€  background: rgba(0,0,0,0.7);
â€  z-index: 1002;
â€  overflow-y: auto;
â€  padding: 15px;
}

â€.modal-content {
â€  background: #fff;
â€  margin: 20px auto;
â€  padding: 15px;
â€  border-radius: 10px;
â€  max-width: 95%;
â€  width: 500px;
â€  position: relative;
}

â€.modal-close {
â€  position: absolute;
â€  top: 10px;
â€  left: 10px;
â€  background: #ff4444;
â€  color: white;
â€  border: none;
â€  border-radius: 50%;
â€  width: 30px;
â€  height: 30px;
â€  cursor: pointer;
â€  font-weight: bold;
}

/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
â€#cartList-header { 
â€  display: grid; 
â€  grid-template-columns: 2fr 1fr 1fr 1fr auto; 
â€  font-weight: bold; 
â€  margin-bottom: 5px; 
â€  text-align: center; 
â€  font-size: 14px;
â€  gap: 5px;
}
â€#cartList { 
â€  text-align: right; 
â€  margin: 10px 0; 
â€  display: grid; 
â€  grid-template-columns: 2fr 1fr 1fr 1fr auto; 
â€  gap: 8px; 
â€  align-items: center; 
â€  background: #f5f5f5; 
â€  padding: 8px; 
â€  border-radius: 8px;
â€  font-size: 14px;
}
â€.cart-item { display: contents; }
â€.cart-item span { padding: 4px 5px; word-break: break-word; }
â€.cart-item .remove-btn { 
â€  background: #ff4444; 
â€  color: white; 
â€  border: none; 
â€  border-radius: 4px; 
â€  padding: 4px 8px; 
â€  cursor: pointer; 
â€  font-size: 12px;
}
â€.cart-item .remove-btn:hover { background: #cc0000; }

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø© */
â€.modal-buttons {
â€  display: flex;
â€  flex-wrap: wrap;
â€  justify-content: center;
â€  gap: 8px;
â€  margin-top: 15px;
}

â€.modal-buttons button { 
â€  padding: 8px 12px; 
â€  border: none; 
â€  border-radius: 6px; 
â€  background: var(--primary-color); 
â€  color: #fff; 
â€  cursor: pointer; 
â€  font-weight: bold; 
â€  font-size: 14px; 
â€  transition: 0.3s; 
â€  flex: 1;
â€  min-width: 120px;
}
â€.modal-buttons button:hover { background: #6a1fbf; }

â€/* Toast */
â€#toast {
â€  position: fixed;
â€  bottom: 20px; 
â€  right: 20px;
â€  left: 20px;
â€  background: #25d366;
â€  color: #fff;
â€  padding: 10px 15px;
â€  border-radius: 10px;
â€  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
â€  display: none;
â€  z-index: 1003;
â€  text-align: center;
â€  font-size: 14px;
}

/* Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ */
â€.search-container {
â€  display: flex;
â€  justify-content: center;
â€  gap: 8px;
â€  margin: 10px 0;
â€  padding: 0 5px;
}

â€#searchBox {
â€  flex: 1;
â€  max-width: 300px;
â€  padding: 8px 12px;
â€  border: 1px solid #ccc;
â€  border-radius: 6px;
â€  font-size: 14px;
}

â€#offerBtn {
â€  padding: 8px 12px;
â€  background: #ff6600;
â€  color: #fff;
â€  border: none;
â€  border-radius: 6px;
â€  font-weight: bold;
â€  cursor: pointer;
â€  font-size: 14px;
â€  white-space: nowrap;
}

/* Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª */
â€.order-numbers {
â€  margin-top: 15px;
â€  display: none;
â€  text-align: center;
}

â€.order-numbers a {
â€  display: block;
â€  margin: 8px 0;
â€  padding: 8px;
â€  background: var(--primary-color);
â€  color: white;
â€  border-radius: 6px;
â€  text-decoration: none;
â€  font-weight: bold;
}

â€.order-numbers a:hover {
â€  background: #6a1fbf;
}

/* Ø²Ø± Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¹Ø§Ø¦Ù… */
â€#saveCartBtn {
â€  position: fixed;
â€  bottom: 20px;
â€  left: 50%;
â€  transform: translateX(-50%);
â€  background: var(--primary-color);
â€  color: white;
â€  padding: 12px 24px;
â€  border: none;
â€  border-radius: 30px;
â€  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
â€  cursor: pointer;
â€  font-weight: bold;
â€  font-size: 16px;
â€  z-index: 999;
â€  display: flex;
â€  align-items: center;
â€  gap: 5px;
}

â€#saveCartBtn:hover {
â€  background: #6a1fbf;
â€  transform: translateX(-50%) scale(1.05);
}

/* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„ØªØ­Ø³ÙŠÙ† Ø¹Ø±Ø¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø© */
â€@media (max-width: 480px){
â€  body { font-size: 13px; }
  
â€  header { 
â€    padding: 8px 3px; 
â€    font-size: 16px;
  }
  
â€  .header-buttons {
â€    gap: 3px;
  }
  
â€  .header-buttons button {
â€    padding: 5px 8px;
â€    font-size: 12px;
  }
  
â€  #products-container { 
â€    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); 
â€    gap: 8px;
â€    padding: 8px;
  }
  
â€  .product img { height: 110px; }
  
â€  .product-info .name { 
â€    font-size: 13px; 
â€    height: 36px;
  }
  
â€  .product-info .price { font-size: 13px; }
  
â€  .product button { font-size: 12px; }
  
â€  .modal-content {
â€    padding: 12px;
â€    margin: 10px auto;
â€    width: 95%;
  }
  
  /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
â€  #cartList-header, #cartList {
â€    grid-template-columns: 1fr 1fr;
â€    text-align: center;
â€    gap: 5px;
  }
  
â€  .cart-item-hide-on-mobile {
â€    display: none;
  }
  
â€  .cart-item {
â€    display: grid;
â€    grid-template-columns: 1fr 1fr;
â€    gap: 5px;
â€    padding: 8px;
â€    border-bottom: 1px solid #ddd;
â€    background: #f9f9f9;
â€    border-radius: 8px;
â€    margin-bottom: 8px;
  }
  
â€  .cart-item span:nth-child(1) {
â€    grid-column: 1 / span 2;
â€    text-align: center;
â€    font-weight: bold;
â€    padding-bottom: 5px;
â€    color: var(--primary-color);
  }
  
â€  .cart-item span:nth-child(2)::before {
â€    content: "Ø§Ù„ÙƒÙ…ÙŠØ©: ";
â€    font-weight: bold;
â€    color: var(--text-color);
  }
  
â€  .cart-item span:nth-child(3)::before {
â€    content: "Ø§Ù„Ø³Ø¹Ø±: ";
â€    font-weight: bold;
â€    color: var(--text-color);
  }
  
â€  .cart-item span:nth-child(4)::before {
â€    content: "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ";
â€    font-weight: bold;
â€    color: var(--text-color);
  }
  
â€  .cart-item .remove-btn {
â€    grid-column: 1 / span 2;
â€    margin-top: 5px;
â€    padding: 6px;
  }
  
â€  .modal-buttons button {
â€    font-size: 13px;
â€    padding: 10px;
â€    min-width: 100px;
  }
  
â€  #searchBox, #offerBtn {
â€    font-size: 13px;
â€    padding: 7px 10px;
  }
  
  /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø²Ø± Ø§Ù„Ø¹Ø§Ø¦Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
â€  #saveCartBtn {
â€    width: 90%;
â€    text-align: center;
â€    justify-content: center;
â€    font-size: 14px;
â€    padding: 10px 16px;
  }
}

â€@media (max-width: 350px){
â€  #products-container { 
â€    grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); 
  }
  
â€  .product img { height: 90px; }
  
â€  .header-buttons button {
â€    font-size: 11px;
â€    padding: 4px 6px;
  }
  
  /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
â€  .modal-content {
â€    padding: 10px;
  }
  
â€  .cart-item {
â€    grid-template-columns: 1fr;
â€    text-align: center;
  }
  
â€  .cart-item span:nth-child(1) {
â€    grid-column: 1;
  }
  
â€  .cart-item .remove-btn {
â€    grid-column: 1;
  }
}

/* Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± */
â€#passwordModal {
â€  display: none;
â€  position: fixed;
â€  top: 0;
â€  left: 0;
â€  right: 0;
â€  bottom: 0;
â€  background: rgba(0,0,0,0.7);
â€  z-index: 1004;
â€  overflow-y: auto;
â€  padding: 15px;
}

â€.password-content {
â€  background: #fff;
â€  margin: 100px auto;
â€  padding: 20px;
â€  border-radius: 10px;
â€  max-width: 95%;
â€  width: 400px;
â€  position: relative;
â€  text-align: center;
}

â€.password-close {
â€  position: absolute;
â€  top: 10px;
â€  left: 10px;
â€  background: #ff4444;
â€  color: white;
â€  border: none;
â€  border-radius: 50%;
â€  width: 30px;
â€  height: 30px;
â€  cursor: pointer;
â€  font-weight: bold;
}

â€#passwordInput {
â€  width: 100%;
â€  padding: 12px;
â€  margin: 15px 0;
â€  border: 2px solid #ddd;
â€  border-radius: 8px;
â€  font-size: 16px;
â€  text-align: center;
}

â€.password-buttons {
â€  display: flex;
â€  justify-content: center;
â€  gap: 10px;
â€  margin-top: 15px;
}

â€.password-buttons button {
â€  padding: 10px 20px;
â€  border: none;
â€  border-radius: 6px;
â€  cursor: pointer;
â€  font-weight: bold;
â€  font-size: 16px;
}

â€#submitPassword {
â€  background: var(--primary-color);
â€  color: white;
}

â€#cancelPassword {
â€  background: #ccc;
â€  color: #333;
}

â€.password-support {
â€  margin-top: 20px;
â€  padding: 15px;
â€  background: #f9f9f9;
â€  border-radius: 8px;
â€  font-size: 14px;
}

â€.password-support a {
â€  color: var(--primary-color);
â€  text-decoration: none;
â€  font-weight: bold;
}

/* Ø´Ø±ÙŠØ· Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± */
â€#showPricesBar {
â€  position: fixed;
â€  top: 50%;
â€  left: 50%;
â€  transform: translate(-50%, -50%);
â€  background: var(--primary-color);
â€  color: white;
â€  padding: 15px 25px;
â€  border-radius: 10px;
â€  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
â€  z-index: 999;
â€  cursor: pointer;
â€  font-weight: bold;
â€  text-align: center;
â€  animation: pulse 2s infinite;
}

â€@keyframes pulse {
â€  0% { transform: translate(-50%, -50%) scale(1); }
â€  50% { transform: translate(-50%, -50%) scale(1.05); }
â€  100% { transform: translate(-50%, -50%) scale(1); }
}

/* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± */
â€.hide-price .product-info .price,
â€.hide-price .product button {
â€  display: none;
}

â€.hide-price .product-info::after {
â€  content: "ğŸ”’ Ø§Ù„Ø³Ø¹Ø± Ù…Ø®ÙÙŠ";
â€  display: block;
â€  color: #ff4444;
â€  font-weight: bold;
â€  margin-top: 10px;
}

/* ÙØ¦Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
â€.category-header {
â€  color: var(--primary-color);
â€  padding: 15px 10px 5px;
â€  margin: 10px 0 5px;
â€  font-weight: bold;
â€  font-size: 18px;
â€  text-align: center;
â€  position: sticky;
â€  top: 120px;
â€  z-index: 10;
â€  background: var(--light-bg);
â€  border-bottom: 2px solid var(--primary-color);
}

/* Ø²Ø± Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© */
â€#clearCartBtn {
â€  background: #ff4444;
â€  color: white;
â€  border: none;
â€  padding: 8px 12px;
â€  border-radius: 6px;
â€  cursor: pointer;
â€  font-weight: bold;
â€  margin-left: 5px;
}

â€#clearCartBtn:hover {
â€  background: #cc0000;
}
â€</style>
â€</head>
â€<body class="hide-price">

<!-- Ø´Ø±ÙŠØ· Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± -->
â€<div id="showPricesBar" onclick="showPasswordModal()">
  ğŸ‘ï¸ Ø§Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
â€</div>

<!-- Ø²Ø± Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¹Ø§Ø¦Ù… -->
â€<button id="saveCartBtn" onclick="saveCart()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø©</button>

â€<header>
â€  ğŸ“¦ELEC.123.ØªØ§Ø¬ ÙˆØ¬Ù…ÙŠØ¹ Ù…Ù†ØªØ¬Ø§Øª Ø¬Ù†Ø©
â€  <div class="header-buttons">
â€    <button id="cartBtn">ğŸ›’ Ø§Ù„Ø³Ù„Ø© <span id="cart-count">0</span></button>
â€    <button id="totalBtn">ğŸ’° Ø§Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø®Ø§ØµÙ‡ Ø¨Ùƒ</button>
â€    <button id="supportBtn">â˜ï¸ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ù„Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</button>
â€    <button onclick="window.location.href='index.html'">ğŸ”™ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
â€    <button id="notifBtn">ğŸ””ØµÙ„ Ø¹Ù„ÙŠ Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯  <span id="notif-count">0</span></button>
â€    <button id="clearCartBtn" onclick="clearCart()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø©</button>
â€  </div>

â€  <div class="search-container">
â€    <input type="text" id="searchBox" placeholder="ğŸ”Ø§Ø¨Ø¯Ø£ Ùˆ Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
â€    <button id="offerBtn">ğŸ’¥Ù‡Ù†Ø¨ÙŠØ¹ Ø¨Ø¨Ù„Ø§Ø´ ÙˆØ§ÙƒÙ† Ø§Ù„ØµÙ†Ù Ù…Ø¬Ø§Ø´ </button>
â€  </div>
â€</header>

â€<div id="newBanner">ğŸ‰ Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„ÙŠÙˆÙ…!</div>
â€<div id="products-container"></div>

<!-- Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± -->
â€<div id="passwordModal">
â€  <div class="password-content">
â€    <button class="password-close" onclick="closePasswordModal()">Ã—</button>
â€    <h2>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ¹Ø±ÙˆØ¶ Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø§ØµÙ„ÙŠØ§Øª</h2>
â€    <input type="password" id="passwordInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
â€    <div class="password-buttons">
â€      <button id="submitPassword" onclick="checkPassword()">ØªØ£ÙƒÙŠØ¯</button>
â€      <button id="cancelPassword" onclick="closePasswordModal()">Ø¥Ù„ØºØ§Ø¡</button>
â€    </div>
â€    <div class="password-support">
â€      <p>Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø£Ùˆ</p>
â€      <a href="https://wa.me/201022495795" target="_blank">â˜ï¸  ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ù†Ø²Ø¯Ø§Ø¯ Ø´Ø±Ù</a>
â€    </div>
â€  </div>
â€</div>

â€<div id="totalModal">
â€  <div class="modal-content">
â€    <button class="modal-close" onclick="closeTotalModal()">Ã—</button>
â€    <h2>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø©: <span id="totalAmount">0.00</span> Ø¬Ù†ÙŠÙ‡</h2>

â€    <div id="cartList-header" class="cart-item-hide-on-mobile">
â€      <span>Ø§Ù„Ù…Ù†ØªØ¬</span>
â€      <span>Ø§Ù„ÙƒÙ…ÙŠØ©</span>
â€      <span class="cart-item-hide-on-mobile">Ø§Ù„Ø³Ø¹Ø±</span>
â€      <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>
â€      <span>Ø­Ø°Ù</span>
â€    </div>

â€    <div id="cartList"></div>

â€    <div class="modal-buttons">
â€      <button id="sendBtn">ğŸ“¤ Ø§Ø±Ø³Ù„ ÙØ§ØªÙˆØ±ØªÙƒ ÙˆØ§Ø³ØªÙ„Ù…Ù‡Ø§ ÙÙŠ Ø§Ù‚Ù„ Ù…Ù† 12 Ø³Ø§Ø¹Ù‡</button>
â€      <button onclick="saveCart()">ğŸ’¾ Ø§Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ù‡</button>
â€      <button onclick="closeTotalModal()">âŒ Ø¥ØºÙ„Ø§Ù‚</button>
â€    </div>
    
â€    <div id="orderNumbers" class="order-numbers">
â€      <p>Ø§Ø®ØªØ± Ø±Ù‚Ù… Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ğŸ‘‡</p>
â€      <a href="https://wa.me/201067070423" target="_blank">ğŸ“ 01067070423</a>
â€      <a href="https://wa.me/201022495795" target="_blank">ğŸ“ 01022495795</a>
â€      <a href="https://wa.me/201012253500" target="_blank">ğŸ“ 01012253500</a>
â€    </div>
â€  </div>
â€</div>

â€<div id="toast">ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</div>

â€<script defer>
â€const SCRIPT_PRODUCTS_URL = "https://script.google.com/macros/s/AKfycbxW3_pcjSfffMTLZefZpzFIrbhijiaWY_u_4ZAmXEV2O04SMN5zplucKnAugWWbP8zzmA/exec";
â€const container = document.getElementById("products-container");
â€let productsData = [];
â€let cart = [];
â€let pricesVisible = false; // ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹

// ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§)
â€const PASSWORD = "2525";

// Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ø´ÙƒÙ„ Ø¹Ø´Ø±ÙŠ
â€function formatPrice(price) {
  // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø³Ø¹Ø± Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ù…Ø¹ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù‡ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ù†Ø²Ù„ØªÙŠÙ† Ø¹Ø´Ø±ÙŠØªÙŠÙ†
â€  return parseFloat(price).toFixed(2);
}

// Ø¹Ø±Ø¶ Ø£Ùˆ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø­Ø§Ù„Ø© pricesVisible
â€function togglePricesVisibility() {
â€  if (pricesVisible) {
â€    document.body.classList.remove('hide-price');
â€    document.getElementById('showPricesBar').style.display = 'none';
â€  } else {
â€    document.body.classList.add('hide-price');
â€    document.getElementById('showPricesBar').style.display = 'block';
  }
}

// Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
â€function showPasswordModal() {
â€  document.getElementById('passwordModal').style.display = 'block';
â€  document.getElementById('passwordInput').focus();
}

// Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
â€function closePasswordModal() {
â€  document.getElementById('passwordModal').style.display = 'none';
â€  document.getElementById('passwordInput').value = '';
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
â€function checkPassword() {
â€  const input = document.getElementById('passwordInput').value;
â€  if (input === PASSWORD) {
â€    pricesVisible = true;
â€    togglePricesVisibility();
â€    closePasswordModal();
â€    showToast('ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­');
â€  } else {
â€    showToast('ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø§Ø·Ø¦Ø©ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');
â€    document.getElementById('passwordInput').value = '';
â€    document.getElementById('passwordInput').focus();
  }
}

// Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
â€function saveCart() {
â€  if (cart.length === 0 || cart.filter(item => item > 0).length === 0) {
â€    showToast('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©ØŒ Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø£ÙˆÙ„Ø§Ù‹');
â€    return;
  }
  
  // Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙ‚Ø· Ù…Ø¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªÙŠ Ø¨Ù‡Ø§ ÙƒÙ…ÙŠØ§Øª
â€  const cartToSave = {};
â€  cart.forEach((qty, idx) => {
â€    if (qty > 0) {
â€      cartToSave[idx] = qty;
    }
  });
  
â€  localStorage.setItem('savedCart', JSON.stringify(cartToSave));
â€  showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ…');
}

// Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø³Ù„Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
â€function loadSavedCart() {
â€  const savedCart = localStorage.getItem('savedCart');
â€  if (savedCart) {
â€    try {
â€      const parsedCart = JSON.parse(savedCart);
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø³Ù„Ø© Ø¨Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙÙ‚Ø·
â€      cart = [];
â€      for (const [idx, qty] of Object.entries(parsedCart)) {
â€        cart[parseInt(idx)] = qty;
      }
      
â€      updateCartCount();
â€      showToast('ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©');
â€    } catch (e) {
â€      console.error('Error loading saved cart:', e);
    }
  }
}

// Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
â€function clearCart() {
â€  if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŸ')) {
â€    cart = [];
â€    updateCartCount();
â€    showToast('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­');
    
    // Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø£ÙŠØ¶Ø§Ù‹
â€    localStorage.removeItem('savedCart');
  }
}

// ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø§Øª
â€function categorizeProducts(products) {
â€  const categories = {};
  
  // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ¦Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬
â€  products.forEach((product, index) => {
â€    const name = product.name.toLowerCase();
â€    let category = "Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰";
    
â€    if (name.includes("ØµØ¨") || name.includes("sp")) {
â€      category = "Ø§Ù„ØµØ¨";
â€    } else if (name.includes("Ø´Ø§Ø­Ù†") || name.includes("Ø´Ø­Ù†") || name.includes("charger")) {
â€      category = "Ø§Ù„Ø´ÙˆØ§Ø­Ù†";
â€    } else if (name.includes("ÙƒØ§Ø¨Ù„") || name.includes("cable") || name.includes("Ø³Ù„Ùƒ")) {
â€      category = "Ø§Ù„ÙƒØ§Ø¨Ù„Ø§Øª";
â€    } else if (name.includes("Ø³Ù…Ø§Ø¹Ø©") || name.includes("Ø³Ù…Ø§Ø¹Ø§Øª") || name.includes("earphone")) {
â€      category = "Ø§Ù„Ø³Ù…Ø§Ø¹Ø§Øª";
â€    } else if (name.includes("Ø­Ø§ÙØ¸Ø©") || name.includes("ØºØ·Ø§Ø¡") || name.includes("case")) {
â€      category = "Ø§Ù„Ø­Ø§ÙØ¸Ø§Øª ÙˆØ§Ù„Ø£ØºØ·ÙŠØ©";
â€    } else if (name.includes("Ø­Ø§Ù…Ù„") || name.includes("holder") || name.includes("stand")) {
â€      category = "Ø§Ù„Ø­ÙˆØ§Ù…Ù„";
â€    } else if (name.includes("Ø¨Ø§ÙˆØ±") || name.includes("power") || name.includes("Ø¨Ù†Ùƒ")) {
â€      category = "Ø§Ù„Ø¨Ø§ÙˆØ± Ø¨Ø§Ù†Ùƒ";
â€    } else if (name.includes("Ø¹Ø¯Ø³Ø©") || name.includes("lens") || name.includes("ÙƒØ§Ù…ÙŠØ±Ø§")) {
â€      category = "Ø¹Ø¯Ø³Ø§Øª Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§";
â€    } else if (name.includes("ÙÙ„Ø§Ø´") || name.includes("flash") || name.includes("Ø°Ø§ÙƒØ±Ø©")) {
â€      category = "Ø§Ù„ÙÙ„Ø§Ø´ Ù…ÙŠÙ…ÙˆØ±ÙŠ";
    }
    
â€    if (!categories[category]) {
â€      categories[category] = [];
    }
    
â€    categories[category].push({...product, index});
  });
  
â€  return categories;
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…ØµÙ†ÙØ© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø§Øª
â€function renderProducts(data){
â€  const categorizedProducts = categorizeProducts(data);
â€  let html = "";
  
  // ØªØ±ØªÙŠØ¨ Ø§Ù„ÙØ¦Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø£Ù‡Ù…ÙŠØ©
â€  const categoryOrder = [
    "Ø§Ù„ØµØ¨", 
    "Ø§Ù„Ø´ÙˆØ§Ø­Ù†", 
    "Ø§Ù„ÙƒØ§Ø¨Ù„Ø§Øª", 
    "Ø§Ù„Ø³Ù…Ø§Ø¹Ø§Øª", 
    "Ø§Ù„Ø­Ø§ÙØ¸Ø§Øª ÙˆØ§Ù„Ø£ØºØ·ÙŠØ©",
    "Ø§Ù„Ø­ÙˆØ§Ù…Ù„",
    "Ø§Ù„Ø¨Ø§ÙˆØ± Ø¨Ø§Ù†Ùƒ",
    "Ø¹Ø¯Ø³Ø§Øª Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§",
    "Ø§Ù„ÙÙ„Ø§Ø´ Ù…ÙŠÙ…ÙˆØ±ÙŠ",
    "Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰"
  ];
  
  // Ø¹Ø±Ø¶ ÙƒÙ„ ÙØ¦Ø© ÙˆÙ…Ù†ØªØ¬Ø§ØªÙ‡Ø§
â€  categoryOrder.forEach(category => {
â€    if (categorizedProducts[category] && categorizedProducts[category].length > 0) {
â€      html += `<div class="category-header">${category}</div>`;
      
â€      categorizedProducts[category].forEach(item => {
â€        const formattedPrice = formatPrice(item.price);
â€        html += `<div class="product">
â€                    <img src="${item.image || 'https://via.placeholder.com/150'}">
â€                    <div class="product-info">
â€                      <div class="name">${item.name}</div>
â€                      <div class="price">${formattedPrice} Ø¬Ù†ÙŠÙ‡</div>
â€                      <input type="number" min="1" value="${cart[item.index] || 1}" data-index="${item.index}">
â€                      <button onclick="addToCart(${item.index})">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
â€                    </div>
â€                 </div>`;
      });
    }
  });
  
â€  container.innerHTML = html;
  
  // ØªØ·Ø¨ÙŠÙ‚ Ø­Ø§Ù„Ø© Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
â€  togglePricesVisibility();
}

// ØªØ­Ù…ÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
â€(async function(){
   // ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø© ÙŠØªÙ… ÙÙŠÙ‡Ø§ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
â€   pricesVisible = false;
â€   togglePricesVisibility();
   
â€   if(localStorage.getItem("products")){
â€      productsData = JSON.parse(localStorage.getItem("products"));
â€      renderProducts(productsData);
   }
â€   try {
â€     const res = await fetch(SCRIPT_PRODUCTS_URL, {cache:"no-store"});
â€     const data = await res.json();
â€     productsData = data.reverse();
â€     localStorage.setItem("products", JSON.stringify(productsData));
â€     renderProducts(productsData);
â€     setTimeout(checkNewProducts, 1500);
â€   } catch(err){ console.log("âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:",err); }
   
   // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
â€   loadSavedCart();
})();

â€function showToast(msg){
â€  const toast = document.getElementById("toast");
â€  toast.innerText = msg;
â€  toast.style.display = "block";
â€  setTimeout(()=>toast.style.display="none",1200);
}

â€function updateCartCount(){
â€  const count = cart.reduce((sum, qty)=> qty ? sum+qty : sum, 0);
â€  const badge = document.getElementById("cart-count");
â€  badge.style.display = count>0?"inline-block":"none";
â€  badge.innerText = count;
}

â€function addToCart(index){
â€  if (!pricesVisible) {
â€    showPasswordModal();
â€    showToast('ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª');
â€    return;
  }
  
â€  const input = container.querySelector(`input[data-index='${index}']`);
â€  const quantity = parseInt(input.value);
â€  if(quantity<=0) return;
â€  cart[index] = (cart[index] || 0) + quantity;
â€  updateCartCount();
â€  showToast(`${productsData[index].name} ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡/ØªØ­Ø¯ÙŠØ«Ù‡ ÙÙŠ Ø§Ù„Ø³Ù„Ø©`);
}

â€function showTotal(){
â€  if (!pricesVisible) {
â€    showPasswordModal();
â€    showToast('ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø©');
â€    return;
  }
  
â€  let total=0;
â€  const cartList=document.getElementById("cartList");
â€  cartList.innerHTML="";
  
  // Ø¥Ø®ÙØ§Ø¡ Ø±Ø£Ø³ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
â€  const isMobile = window.innerWidth <= 480;
â€  document.getElementById("cartList-header").style.display = isMobile ? "none" : "grid";
  
â€  cart.forEach((qty,idx)=>{
â€    if(qty){
â€      const price = parseFloat(productsData[idx].price);
â€      const lineTotal = qty*price;
â€      total+=lineTotal;
      
â€      if (isMobile) {
        // Ø¹Ø±Ø¶ Ù…Ø®ØµØµ Ù„Ù„Ø¬ÙˆØ§Ù„
â€        const div=document.createElement("div");
â€        div.className="cart-item";
â€        div.innerHTML=`<span>${productsData[idx].name}</span>
â€                       <span>${qty}</span>
â€                       <span>${formatPrice(price)}</span>
â€                       <span>${formatPrice(lineTotal)}</span>
â€                       <span><button class="remove-btn" onclick="removeItem(${idx})">Ø­Ø°Ù</button></span>`;
â€        cartList.appendChild(div);
â€      } else {
        // Ø¹Ø±Ø¶ Ø¹Ø§Ø¯ÙŠ Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±
â€        const div=document.createElement("div");
â€        div.className="cart-item";
â€        div.innerHTML=`<span>${productsData[idx].name}</span>
â€                       <span>${qty}</span>
â€                       <span class="cart-item-hide-on-mobile">${formatPrice(price)}</span>
â€                       <span>${formatPrice(lineTotal)}</span>
â€                       <span><button class="remove-btn" onclick="removeItem(${idx})">Ø­Ø°Ù</button></span>`;
â€        cartList.appendChild(div);
      }
    }
  });
â€  document.getElementById("totalAmount").innerText=formatPrice(total);
â€  document.getElementById("totalModal").style.display="block";
}

â€function updateQty(idx,value){
â€  value=parseInt(value);
â€  if(value<=0) delete cart[idx];
â€  else cart[idx]=value;
â€  updateCartCount();
â€  showTotal();
}
â€function removeItem(idx){
â€  delete cart[idx];
â€  updateCartCount();
â€  showTotal();
}
â€function closeTotalModal(){ document.getElementById("totalModal").style.display='none'; }

â€document.getElementById("sendBtn").onclick = function(){
â€  const orderDiv = document.getElementById("orderNumbers");
â€  orderDiv.style.display="block";
â€  orderDiv.querySelectorAll("a").forEach(a=>{
â€    a.onclick=(e)=>{
â€      e.preventDefault();
â€      let text="ğŸ§¾ Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©\n\n";
â€      let total=0;
â€      cart.forEach((qty,idx)=>{
â€        if(qty){
â€          const price=parseFloat(productsData[idx].price);
â€          const lineTotal=qty*price;
â€          total+=lineTotal;
â€          text+=`${productsData[idx].name} | ${qty} | ${formatPrice(price)} | ${formatPrice(lineTotal)}\n`;
        }
      });
â€      text+=`Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: ${formatPrice(total)} Ø¬Ù†ÙŠÙ‡`;
â€      window.open(`${a.href}?text=${encodeURIComponent(text)}`,"_blank");
    }
  });
}
â€document.getElementById("cartBtn").onclick=showTotal;
â€document.getElementById("totalBtn").onclick=showTotal;
â€document.getElementById("supportBtn").onclick=()=>window.open("https://wa.me/201022495795","_blank");

â€function checkNewProducts(){
â€  const today=(new Date()).toISOString().split("T")[0];
â€  let newCount=0;
â€  productsData.forEach(p=>{ if(p.date&&p.date.startsWith(today)) newCount++; });
â€  if(newCount>0){
â€    document.getElementById("notif-count").innerText=newCount;
â€    document.getElementById("notif-count").style.display="inline-block";
â€    document.getElementById("newBanner").style.display="block";
â€    let audio=new Audio("https://www.soundjay.com/buttons/sounds/button-3.mp3"); audio.play();
â€    if(Notification.permission==="granted") new Notification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${newCount} Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„ÙŠÙˆÙ… ğŸ‰`);
â€    else if(Notification.permission!=="denied") Notification.requestPermission().then(p=>{ if(p==="granted") new Notification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${newCount} Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„ÙŠÙˆÙ… ğŸ‰`); });
  }
}

// Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ø¯ÙŠ
â€document.getElementById("searchBox").addEventListener("input", function(){
â€  const keyword=this.value.trim().toLowerCase();
â€  const filtered=productsData.filter(p=>p.name.toLowerCase().includes(keyword));
â€  renderProducts(filtered);
});

// Ø²Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶ - ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù„ÙŠ ÙÙŠÙ‡Ø§ Ø¹Ù…ÙˆØ¯ offer
â€document.getElementById("offerBtn").onclick = function(e){
â€    e.preventDefault();
â€    const offers = productsData.filter(p => p.offer && p.offer.trim() !== "");
â€    renderProducts(offers);
}

// Ø¥Ø¹Ø§Ø¯Ø© Ø±Ø³Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©
â€window.addEventListener('resize', function() {
â€  if (document.getElementById("totalModal").style.display === 'block') {
â€    showTotal();
  }
});

// Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
â€document.getElementById('passwordInput').addEventListener('keypress', function(e) {
â€  if (e.key === 'Enter') {
â€    checkPassword();
  }
});

// Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© ÙÙ‚Ø· Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„Ø³Ù„Ø©
â€setInterval(() => {
â€  const cartCount = cart.reduce((sum, qty) => qty ? sum + qty : sum, 0);
â€  document.getElementById('saveCartBtn').style.display = cartCount > 0 ? 'flex' : 'none';
}, 1000);
â€</script>
â€</body>
â€</html>
